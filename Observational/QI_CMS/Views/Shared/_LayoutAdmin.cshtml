<!DOCTYPE html>
<!-- Template Name: Clip-One - Responsive Admin Template build with Twitter Bootstrap 3.x Version: 1.3 Author: ClipTheme -->
<!--[if IE 8]><html class="ie8 no-js" lang="en"><![endif]-->
<!--[if IE 9]><html class="ie9 no-js" lang="en"><![endif]-->
<!--[if !IE]><!-->
<html lang="en" class="no-js">
<!--<![endif]-->
<!-- start: HEAD -->
<head>
    <title>@ViewBag.Title</title>
    <!-- start: META -->
    <meta charset="utf-8" />
    <!--[if IE]><meta http-equiv='X-UA-Compatible' content="IE=edge,IE=9,IE=8,chrome=1" /><![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta content="" name="description" />
    <meta content="" name="author" />
    <!-- end: META -->
    <!-- start: MAIN CSS -->
    <link href="~/Content/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
    <link href="~/Content/themes/ClipOne/fonts/style.css" rel="stylesheet" />
    <link href="~/Content/themes/ClipOne/css/main.css" rel="stylesheet" />
    <link href="~/Content/themes/ClipOne/css/main-responsive.css" rel="stylesheet" />
    <link href="~/Content/themes/ClipOne/plugins/iCheck/skins/all.css" rel="stylesheet" />
    <link href="~/Content/themes/ClipOne/plugins/bootstrap-colorpalette/css/bootstrap-colorpalette.css" rel="stylesheet" />
    <link href="~/Content/themes/ClipOne/css/theme_light.css" rel="stylesheet" />
    <link href="~/Content/themes/ClipOne/plugins/perfect-scrollbar/src/perfect-scrollbar.css" rel="stylesheet" />
    <link href="~/Content/themes/ClipOne/plugins/select2/select2.css" rel="stylesheet" />
    <link href="~/Content/themes/ClipOne/plugins/font-awesome/css/font-awesome.min.css" rel="stylesheet" />
    <link href="~/Content/themes/ClipOne/plugins/dynatree/src/skin-vista/ui.dynatree.css" rel="stylesheet" />
    <link href="~/Content/Validation.css" rel="stylesheet" />
    <link rel="stylesheet" href="~/Content/themes/dist/sweetalert.css">
    <link href="~/Content/themes/ClipOne/plugins/bootstrap-modal/css/bootstrap-modal-bs3patch.css" rel="stylesheet" />
    <link href="~/Content/themes/ClipOne/plugins/bootstrap-modal/css/bootstrap-modal.css" rel="stylesheet" />
    <link href="~/Content/themes/clipone/plugins/jQuery-File-Upload/css/jquery.fileupload-ui.css" rel="stylesheet" />
    <link href="~/Content/themes/clipone/plugins/bootstrap-fileupload/bootstrap-fileupload.min.css" rel="stylesheet" />
    <link href="~/Content/themes/ClipOne/datepicker/daterangepicker-bs3.css" rel="stylesheet" />
    <link href="~/Content/themes/ClipOne/datepicker/daterangepicker-bs2.css" rel="stylesheet" />
    <link href="~/Content/styles/css/bootstrap-datetimepicker.css" rel="stylesheet" />
    <style type="text/css">
        #a {
            border-bottom-color: #fff;
        }
    </style>
    @Scripts.Render("~/bundles/modernizr")
    <!--[if IE 7]>
        <link rel="stylesheet" href="assets/plugins/font-awesome/css/font-awesome-ie7.min.css">
        <![endif]-->
    <!-- end: MAIN CSS -->
    <!-- start: CSS REQUIRED FOR THIS PAGE ONLY -->
    <!-- end: CSS REQUIRED FOR THIS PAGE ONLY -->

    <link rel="shortcut icon" href="~/favicon.ico" />
    <style type="text/css">
        .donvi-header {
            padding-top: 12px;
            color: #666666;
            font-size: 16px;
            padding-right: 20px;
        }

        .ngay-lv {
            padding-top: 16px;
            font-size: 12px;
            color: #757575;
        }
    </style>
</head>
<!-- end: HEAD -->
<!-- start: BODY -->
<body class="navigation-small" style="position:relative;">
    <!-- start: HEADER -->
    <div class="navbar navbar-inverse navbar-fixed-top">
        <!-- start: TOP NAVIGATION CONTAINER -->
        <div class="container contwent-head">
            <div class="navbar-header">
                <button data-target=".navbar-collapse" data-toggle="collapse" class="navbar-toggle" type="button">
                    <span class="clip-list-2"></span>
                </button>
                <a class="navbar-brand" style="padding-left:20px; color:blue; font-weight:300;" href="@Url.Action("Index", "Home")">
                    <h3>HỆ THỐNG QUAN TRẮC</h3>
                </a>
            </div>
            <div class="navbar-tools">
                <!-- start: TOP NAVIGATION MENU -->
                <ul class="nav navbar-right">
                    <li class="dropdown current-user">
                        <a data-toggle="dropdown" data-hover="dropdown" class="dropdown-toggle" data-close-others="true" href="#">
                            <img src="~/Images/noavatar.png" width="36" class="circle-img" alt="" />
                            <span class="username">@User.Identity.Name</span>
                            <i class="clip-chevron-down"></i>
                        </a>
                        <ul class="dropdown-menu">
                            <li>
                                <a href="/Administrator/Account/UserProfile">
                                    <i class="clip-user-2"></i>
                                    &nbsp;Profile
                                </a>
                            </li>
                            <li>
                                <a href="/Administrator/Account/Manage">
                                    <i class="clip-calendar"></i>
                                    &nbsp;Change password
                                </a>
                            </li>
                            <li class="divider"></li>
                            <li>
                                @using (Html.BeginForm("LogOff", "LoginAccount", FormMethod.Post, new { id = "logoutForm" }))
                                {
                                    @Html.AntiForgeryToken()
                                    <a href="javascript:document.getElementById('logoutForm').submit()">
                                        <i class="clip-exit"></i>
                                        &nbsp;Log Out
                                    </a>
                                }
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <div class="main-container">


        <div class="navbar-content">
            <!-- start: SIDEBAR -->
            <div class="main-navigation navbar-collapse collapse">
                <!-- start: MAIN MENU TOGGLER BUTTON -->
                <div class="navigation-toggler">
                    <i class="clip-chevron-left"></i>
                    <i class="clip-chevron-right"></i>
                </div>
                <!-- end: MAIN MENU TOGGLER BUTTON -->
                <!-- start: MAIN NAVIGATION MENU -->
                @Html.MenuAdmin(User.Identity.Name)
                <!-- end: MAIN NAVIGATION MENU -->
            </div>
            <!-- end: SIDEBAR -->
        </div>
        <!-- start: PAGE -->
        <div class="main-content">
            <!-- start: PANEL CONFIGURATION MODAL FORM -->
            <div class="modal fade" id="panel-config" tabindex="-1" role="dialog" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                                &times;
                            </button>
                            <h4 class="modal-title">Panel Configuration</h4>
                        </div>
                        <div class="modal-body">
                            Here will be a configuration form
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">
                                Close
                            </button>
                            <button type="button" class="btn btn-primary">
                                Save changes
                            </button>
                        </div>
                    </div>
                    <!-- /.modal-content -->
                </div>
                <!-- /.modal-dialog -->
            </div>
            <!-- /.modal -->
            <!-- end: SPANEL CONFIGURATION MODAL FORM -->
            <div class="container maincontainrer">
                <!-- start: PAGE HEADER -->
                <div class="row" style="margin-top: 10px;">
                </div>
                <!-- end: PAGE HEADER -->
                <!-- start: PAGE CONTENT -->
                <div class="row">
                    @RenderBody()
                </div>
                <!-- end: PAGE CONTENT-->
            </div>

        </div>
        <!-- end: PAGE -->
    </div>

    <div class="footer clearfix">
        <div class="footer-inner">
          @DateTime.Now.Year - Copyright
        </div>
        <div class="footer-items">
            <span class="go-top"><i class="clip-chevron-up"></i></span>
        </div>
    </div>

    <div id="event-management" class="modal fade" tabindex="-1" data-width="760" style="display: none;">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                        &times;
                    </button>
                    <h4 class="modal-title">Event Management</h4>
                </div>
                <div class="modal-body"></div>
                <div class="modal-footer">
                    <button type="button" data-dismiss="modal" class="btn btn-light-grey">
                        Close
                    </button>
                    <button type="button" class="btn btn-danger remove-event no-display">
                        <i class='fa fa-trash-o'></i>Delete Event
                    </button>
                    <button type='submit' class='btn btn-success save-event'>
                        <i class='fa fa-check'></i>Save
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>

    <!--<![endif]-->
    @Scripts.Render("~/bundles/jquery")
    @RenderSection("scripts", required: false)

    <script src="~/Scripts/jquery.validate.min.js"></script>
    <script src="~/Scripts/jquery.validate.unobtrusive.js"></script>    
    <script src="~/Scripts/jquery-2.2.3.min.js"></script>
    <script type="text/javascript" src="~/Content/bootstrap/js/bootstrap.min.js"></script>
    <script src="~/Content/themes/ClipOne/plugins/iCheck/jquery.icheck.min.js"></script>
    <script src="~/Content/themes/ClipOne/plugins/bootstrap-hover-dropdown/bootstrap-hover-dropdown.min.js"></script>
    <script src="~/Content/themes/ClipOne/plugins/blockUI/jquery.blockUI.js"></script>
    <script src="~/Content/themes/ClipOne/plugins/perfect-scrollbar/src/jquery.mousewheel.js"></script>
    <script src="~/Content/themes/ClipOne/plugins/perfect-scrollbar/src/perfect-scrollbar.js"></script>
    <script src="~/Content/themes/ClipOne/plugins/less/less-1.5.0.min.js"></script>
    <script src="~/Content/themes/ClipOne/plugins/jquery-cookie/jquery.cookie.js"></script>
    <script src="~/Content/themes/ClipOne/plugins/bootstrap-colorpalette/js/bootstrap-colorpalette.js"></script>
    <script src="~/Content/themes/ClipOne/plugins/select2/select2.min.js"></script>
    <script src="~/Content/themes/ClipOne/plugins/jquery-ui/jquery-ui-1.10.2.custom.min.js"></script>
    <script src="~/Content/themes/ClipOne/datepicker/moment.js"></script>
    <script src="~/Content/themes/ClipOne/datepicker/daterangepicker.js"></script>
    <script src="~/Content/styles/js/moment-with-locales.js"></script>
    <script src="~/Content/styles/js/bootstrap-datetimepicker.js"></script>
    <script src="~/Content/styles/js/vi.js" charset="utf-8"></script>
    <script src="~/Content/themes/ClipOne/plugins/ckeditor/ckeditor.js"></script>
    <script src="~/Content/themes/ClipOne/plugins/ckfinder/ckfinder.js"></script>
    <script src="~/Content/themes/ClipOne/plugins/ckeditor/adapters/jquery.js"></script>
    <script src="~/Content/themes/ClipOne/plugins/dynatree/src/jquery.dynatree.js"></script>    
    <script src="~/Content/themes/ClipOne/js/main.js"></script>
    @*<script src="~/Scripts/jquery.signalR-2.4.1.min.js"></script>*@
    @*<script src="~/signalr/hubs"></script>*@
    <script src="~/Content/themes/dist/sweetalert-dev.js"></script>
    <script src="~/Content/themes/ClipOne/plugins/bootstrap-modal/js/bootstrap-modal.js"></script>
    <script src="~/Content/themes/ClipOne/plugins/bootstrap-modal/js/bootstrap-modalmanager.js"></script>
    <script src="~/Content/themes/clipone/plugins/bootstrap-fileupload/bootstrap-fileupload.min.js"></script>
    <script src="~/Scripts/sweetalert-master/dist/sweetalert.min.js"></script>
    <script src="~/Content/styles/js/stylecustom.js"></script>
    <script>
        var query = window.location.search.substring(1);
        if (query.includes('successAlert=True') == true) {
            swal({
                title: "Thao tác thành công!",
                text: " ",
                type: "success",
                timer: 2000,
                showConfirmButton: false

            });
        }
        if (query.includes('successAlert=False') == true && query.includes('error=')) {
            var err_decode = decodeURIComponent(query);
            var err_index = err_decode.indexOf("error=") + 6;
            var err_text = err_decode.substring(err_index);
            swal({
                title: "Thao tác không thành công!",
                text: err_text,
                type: "error",
                showConfirmButton: true
            });
        }
        else if (query.includes('successAlert=False') == true) {
            swal({
                title: "Thao tác không thành công!",
                text: " ",
                type: "error",
                timer: 2000,
                showConfirmButton: false
            });
        }
    </script>

    @RenderSection("scripts", required: false)
    @RenderSection("PageScripts", false)
    <script>
        jQuery(document).ready(function () {
            Main.init();
        });
    </script>
    <script>
        const inputPasswordElements = document.querySelectorAll('input[type=password]');
        const observer = new MutationObserver(function (mutations) {
            mutations.forEach(function (mutation) {
                if (mutation.type === 'attributes' && mutation.attributeName === 'type') {
                    mutation.target.value = '';
                }
            });
        });
        Array.from(inputPasswordElements).forEach(function (input) {
            observer.observe(input, { attributes: true });
        });
    </script>
    <script type="text/javascript">
        //$(function () {
        //    $(window).on("load", updateNotification);
        //    function updateNotification() {               
        //        $('#notiContent').empty();
        //        $('#notiContent').append($('<li>Đang tải...</li>'));
        //        $.ajax({
        //            type: 'GET',
        //            url: '/DashBoard/GetNotificationContacts',
        //            success: function (response) {
        //                $('#notiContent').empty();
        //                if (response.length == 0) {
        //                    $('#notiContent').append($('<li class="nodataa">Chưa có dữ liệu...</li>'));
        //                }
        //                $.each(response, function (index, value) {
        //                    if (value.TrangThaiChinhSua == true) {
        //                        if (value.TrangThaiXoa == true) {

        //                            $('#notiContent').append($("<li ><a href='/News/edit/" + value.Id + "?page=1&codeDonVi=" + value.CodeDonVi + "'><div class='clearfix'><div class='thread-image'><img alt src='" + value.ImageUrl + "'/></div><div class='thread-content'><span class='author'>" + value.Title + "</span><span class='preview'> Đơn vị: " + value.CodeDonVi + "<br/><span class='label label-sm label-danger'>đã xóa</span><span onclick='KhoiPhucNew(" + value.Id + ");' class='label label-default khoip' onclick>Khôi phục<span/></span><span class='time'>" + value.DateCreate + "</span></div></div></a></li>"));
        //                        }
        //                        else {
        //                            $('#notiContent').append($("<li ><a href='/News/edit/" + value.Id + "?page=1&codeDonVi=" + value.CodeDonVi + "'><div class='clearfix'><div class='thread-image'><img alt src='" + value.ImageUrl + "'/></div><div class='thread-content'><span class='author'>" + value.Title + "</span><span class='preview'> Đơn vị: " + value.CodeDonVi + "<br/><span class='label label-sm label-warning'>đã chỉnh sửa</span></span><span class='time'>" + value.DateCreate + "</span></div></div></a></li>"));
        //                        }
        //                    }
        //                    else {
        //                        $('#notiContent').append($("<li ><a href='/News/edit/" + value.Id + "?page=1&codeDonVi=" + value.CodeDonVi + "'><div class='clearfix'><div class='thread-image'><img alt src='" + value.ImageUrl + "'/></div><div class='thread-content'><span class='author'>" + value.Title + "</span><span class='preview'> Đơn vị: " + value.CodeDonVi + "<br/><span class='label label-sm label-success'>nguyên bản</span></span><span class='time'>" + value.DateCreate + "</span></div></div></a></li>"));
        //                    }
        //                });
        //            },
        //            error: function (error) {
        //                console.log(error);
        //            }
        //        })
        //    }

        //    // update notification count
        //    function updateNotificationCount(status, countnews) {               
        //        if (status == "added") {
        //            $('#signalr').html("<span class='badge'>" + countnews + "</span>");
        //            $(".alert-dismissible").slideDown("slow", function () {
        //                setInterval(function () { $(".alert-dismissible").fadeOut(4000); }, 7000);
        //                playAudio();
        //            });
        //        }
        //    }
        //    // signalr js code for start hub and send receive notification
        //    var notificationHub = $.connection.notificationHubs1;
        //    $.connection.hub.start().done(function () {
        //    });
        //    //signalR đẩy ngay trên client
        //    notificationHub.client.notify = function (message, countnews) {
        //        if (message) {
        //            if (message.trim().toLowerCase() == "added") {
        //                updateNotificationCount(message.trim().toLowerCase(), countnews);
        //                var url = document.URL;
        //                var check = url.includes("DashBoardManager");
        //                if (check == true) {
        //                    GetData();
        //                }
        //            }
        //            updateNotification();
        //        }
        //    }
        //})
    </script>
</body>
<!-- end: BODY -->
</html>
